[{"D:\\ichimi-tavern\\src\\components\\NavBar.jsx":"1","D:\\ichimi-tavern\\src\\components\\Footer.jsx":"2","D:\\ichimi-tavern\\src\\App.tsx":"3","D:\\ichimi-tavern\\src\\utils\\device.js":"4","D:\\ichimi-tavern\\src\\screens\\Homepage.tsx":"5","D:\\ichimi-tavern\\src\\reportWebVitals.tsx":"6","D:\\ichimi-tavern\\src\\components\\MarineGallery.jsx":"7","D:\\ichimi-tavern\\src\\index.tsx":"8","D:\\ichimi-tavern\\src\\utils\\storage.ts":"9","D:\\ichimi-tavern\\src\\components\\MarineDiscordServer.js":"10","D:\\ichimi-tavern\\src\\utils\\lang.ts":"11","D:\\ichimi-tavern\\src\\screens\\Disclaimer.jsx":"12","D:\\ichimi-tavern\\src\\components\\MarineBackground.tsx":"13","D:\\ichimi-tavern\\src\\components\\MarineBtn.tsx":"14","D:\\ichimi-tavern\\src\\utils\\player.ts":"15","D:\\ichimi-tavern\\src\\components\\MarineLoadingScreen.jsx":"16"},{"size":1888,"mtime":1611515275710,"results":"17","hashOfConfig":"18"},{"size":2183,"mtime":1611515275691,"results":"19","hashOfConfig":"18"},{"size":596,"mtime":1611517000846,"results":"20","hashOfConfig":"18"},{"size":216,"mtime":1611515275729,"results":"21","hashOfConfig":"18"},{"size":11445,"mtime":1611518167481,"results":"22","hashOfConfig":"18"},{"size":425,"mtime":1608395970081,"results":"23","hashOfConfig":"18"},{"size":1594,"mtime":1609855676505,"results":"24","hashOfConfig":"18"},{"size":643,"mtime":1609775243956,"results":"25","hashOfConfig":"18"},{"size":1903,"mtime":1610436955079,"results":"26","hashOfConfig":"18"},{"size":528,"mtime":1611515275702,"results":"27","hashOfConfig":"18"},{"size":688,"mtime":1611515275731,"results":"28","hashOfConfig":"18"},{"size":3876,"mtime":1610822785259,"results":"29","hashOfConfig":"18"},{"size":782,"mtime":1611517902211,"results":"30","hashOfConfig":"18"},{"size":3259,"mtime":1611518665402,"results":"31","hashOfConfig":"18"},{"size":1244,"mtime":1609954068404,"results":"32","hashOfConfig":"18"},{"size":566,"mtime":1611516371340,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36","usedDeprecatedRules":"37"},"49fti2",{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"53"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"53"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},"D:\\ichimi-tavern\\src\\components\\NavBar.jsx",["70"],"import React, {useCallback} from \"react\";\r\nimport {useSelector, useDispatch} from 'react-redux';\r\nimport {BrowserRouter as Router, Switch, Route, Link} from \"react-router-dom\";\r\nimport {langs, setLang} from \"../utils/lang\";\r\nimport {changeLang} from \"../redux/reducer\";\r\nimport Homepage from \"../screens/Homepage\";\r\nimport Disclaimer from \"../screens/Disclaimer\";\r\n\r\n// TODO: Create a gif for the Houshou flag\r\nconst NavBar = () => {\r\n\r\n    const siteLang = useSelector((state) => state.siteLang);\r\n    const dispatch = useDispatch();\r\n\r\n    const set_lang = useCallback((lang) => {\r\n        setLang(lang);\r\n        dispatch(changeLang(lang))\r\n    }, [siteLang]);\r\n\r\n    return (\r\n        <Router>\r\n            <div className=\"nav\">\r\n                <div className=\"nav-left\">\r\n                    <Link to=\"/\">\r\n                        <img src={require('../assets/houshou_flag.png').default} alt=\"Houshou flag\" className=\"logo\"/>\r\n                    </Link>\r\n                </div>\r\n                <div className=\"nav-right\">\r\n                    <Link to=\"/disclaimer\">\r\n                        <div>Disclaimer</div>\r\n                    </Link>\r\n                    <div className=\"lang-selector\">\r\n                        <div>{langs()[siteLang].lang[siteLang]}</div>\r\n                        <div>\r\n                            {Object.entries(langs()[siteLang].lang).map(([abbv, lang]) => <div key={abbv} className=\"lang\" onClick={() => set_lang(abbv)}>{lang}</div>)}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <Switch>\r\n                <Route exact path=\"/\">\r\n                    <Homepage />\r\n                </Route>\r\n                <Route path=\"/disclaimer\">\r\n                    <Disclaimer />\r\n                </Route>\r\n            </Switch>\r\n        </Router>\r\n\r\n    );\r\n}\r\n\r\nexport default NavBar;",["71","72"],"D:\\ichimi-tavern\\src\\components\\Footer.jsx",[],"D:\\ichimi-tavern\\src\\App.tsx",[],"D:\\ichimi-tavern\\src\\utils\\device.js",[],"D:\\ichimi-tavern\\src\\screens\\Homepage.tsx",["73","74","75","76","77","78","79","80","81","82"],"import MarineBtn, {MarineBtnState} from '../components/MarineBtn';\r\nimport categoryNames from '../assets/categories.json';\r\nimport {getLang, langs} from '../utils/lang';\r\nimport {getConfig, setConfig} from '../utils/storage'\r\nimport MarineBtnData from '../utils/data';\r\nimport React, {useCallback, useEffect, useState} from 'react';\r\n// @ts-ignore\r\nimport {useSelector, useDispatch} from 'react-redux';\r\nimport MarineBackground from \"../components/MarineBackground\";\r\nimport { playingRandom, playingRandomCtg } from '../redux/reducer';\r\n\r\nconst Homepage = () => {\r\n\r\n    const [state, setState] = useState({\r\n        disableGallery: false,\r\n        imageIndex: 0,\r\n        loop: false,\r\n        overlap: false,\r\n        bgm: new Audio(),\r\n        playingBgm: false,\r\n    });\r\n\r\n    // overall app state\r\n    const siteLang = useSelector((state: any) => state.siteLang);\r\n    const imgIndex = useSelector((state: any) => state.imageIndex);\r\n    const video = useSelector((state: any) => state.video);\r\n    const random = useSelector((state: any) => state.random);\r\n    const randomCtg = useSelector((state: any) => state.randomCtg);\r\n    const dispatch = useDispatch();\r\n\r\n    // get configure from local storage\r\n    useEffect(() => {\r\n        setState(prevState => {\r\n            return {\r\n                ...prevState,\r\n                disableGallery: !!localStorage.getItem('disableGallery'),\r\n                imageIndex: localStorage.getItem('imageIndex') ? Number(localStorage.getItem('imageIndex')) : 0,\r\n                loop: !!localStorage.getItem('loop'),\r\n                overlap: !!localStorage.getItem('overlap'),\r\n                bgm: new Audio(require('../assets/bgm.mp3').default)\r\n            }\r\n        })\r\n    }, [])\r\n\r\n    const buttons = (voices:Array<MarineBtnData>) => {\r\n        return (\r\n            <div className=\"voices\">\r\n                {voices.map((data: MarineBtnData) =>\r\n                    <MarineBtn\r\n                        data={data}\r\n                        setImageIndex={setImageIndex}\r\n                        onRandom={chooseRandom}\r\n                        onRandomCtg={chooseRandomCtg}\r\n                    />\r\n                )}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const categories = () => {\r\n        const categories: Record<string, Array<MarineBtnData>> = {};\r\n        const getCategoryName = (ctg: string) => {\r\n            return getLang((categoryNames as any)[ctg]);\r\n        };\r\n        const r = require.context('../assets/meta/', false, /\\.json$/);\r\n        r.keys().forEach((path: string) => {\r\n            const data = r(path);\r\n            data.isPlaying = false;\r\n            const ctg = getCategoryName(data.category)\r\n            if (Object.prototype.hasOwnProperty.call(categories, ctg)) {\r\n                categories[ctg].push(data);\r\n            }\r\n            else {\r\n                categories[ctg] = [data];\r\n            }\r\n        })\r\n        return categories;\r\n    }\r\n\r\n    const toggleGallery = useCallback(() => {\r\n        setConfig();\r\n        setState((prevState => {\r\n            return {\r\n                ...prevState,\r\n                disableGallery: !prevState.disableGallery,\r\n                imageIndex: Number(localStorage.getItem('imageIndex'))\r\n            }\r\n        }))\r\n    }, [state.disableGallery])\r\n\r\n    const setImageIndex = useCallback(() => {\r\n        setConfig();\r\n        setState((prevState => {\r\n            return {\r\n                ...prevState,\r\n                imageIndex: imgIndex\r\n            }\r\n        }))\r\n    } , [imgIndex])\r\n\r\n    const toggleLoop = useCallback(() => {\r\n        setConfig();\r\n        setState((prevState => {\r\n            return {\r\n                ...prevState,\r\n                loop: !prevState.loop\r\n            }\r\n        }))\r\n    }, [state.loop]);\r\n\r\n    const toggleOverlap = useCallback(() => {\r\n        setConfig();\r\n        setState((prevState => {\r\n            return {\r\n                ...prevState,\r\n                overlap: !prevState.overlap\r\n            }\r\n        }))\r\n    }, [state.overlap]);\r\n\r\n    const toggleBgm = useCallback(() => {\r\n        setState((prevState) => {\r\n            return {\r\n                ...prevState,\r\n                playingBgm: !prevState.playingBgm\r\n            }\r\n        })\r\n    }, [state.playingBgm])\r\n\r\n    useEffect(() => {\r\n        if (!state.playingBgm) {\r\n            state.bgm.onended = null;\r\n            state.bgm.pause();\r\n        }\r\n        else {\r\n            state.bgm.volume = getConfig().bgmVolume;\r\n            state.bgm.play();\r\n            state.bgm.onended = () => {\r\n                if (state.playingBgm) state.bgm.play();\r\n            }\r\n        }\r\n    }, [state.bgm, state.playingBgm])\r\n\r\n    const bgmVolumeChange = useCallback(() => {\r\n        const value = Number((document.getElementById('bgmVolume') as HTMLInputElement).value) / 100;\r\n        localStorage.setItem('bgmVolume', String(value));\r\n        state.bgm.volume = value;\r\n        setState(prevState => {\r\n            return({\r\n                ...prevState,\r\n                bgm: prevState.bgm\r\n            })\r\n        })\r\n    }, [state.bgm])\r\n\r\n    const chooseRandom = useCallback(() => {\r\n      const pool = document.getElementsByClassName('MarineBtn');\r\n      const selected = pool[Math.floor(Math.random() * pool.length)] as any;\r\n      selected.click();\r\n    }, [])\r\n\r\n    const playRandom = useCallback(() => {\r\n      dispatch(playingRandom(!random));\r\n    }, [random]);\r\n    \r\n    useEffect(() => {\r\n        if (random) chooseRandom();\r\n    }, [random])\r\n\r\n    const chooseRandomCtg = useCallback((ctg: string) => {\r\n        const pool = document.getElementsByClassName(ctg);\r\n        const selected = pool[Math.floor(Math.random() * pool.length)] as any;\r\n        selected.click();\r\n      }, [randomCtg])\r\n  \r\n    const playRandomCtg = useCallback((ctg: string) => {\r\n        dispatch(playingRandomCtg(randomCtg ? '' : ctg));\r\n    }, [randomCtg]);\r\n      \r\n    useEffect(() => {\r\n        if (randomCtg) chooseRandomCtg(randomCtg);\r\n    }, [randomCtg])\r\n\r\n    const Controller = () => {\r\n        return (\r\n            <div className=\"controller\">\r\n                <div>\r\n                    <button\r\n                        className=\"btn\"\r\n                        onClick={chooseRandom}\r\n                        disabled={random || randomCtg !== \"\"}\r\n                    >\r\n                        {/* @ts-ignore */}\r\n                        {langs()[siteLang].action.random}\r\n                    </button>\r\n                    <button\r\n                        className=\"btn\"\r\n                        onClick={playRandom}\r\n                        disabled={randomCtg !== \"\"}\r\n                    >\r\n                        {/* @ts-ignore */}\r\n                        {random ? langs()[siteLang].action.stop : langs()[siteLang].action.nonstop}\r\n                    </button>\r\n                    <div>\r\n                        <label className=\"checkbox-container\">\r\n                            {/* @ts-ignore */}\r\n                            {langs()[siteLang].action.noGallery}\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                checked={state.disableGallery}\r\n                                name=\"disable-gallery\" id=\"disable-gallery\"\r\n                                onChange={toggleGallery}\r\n                            />\r\n                            <span className=\"checkmark\"></span>\r\n                        </label>\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"checkbox-container\">\r\n                            {/* @ts-ignore */}\r\n                            {langs()[siteLang].action.loop}\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                checked={state.loop}\r\n                                disabled={random}\r\n                                name=\"loop\" id=\"loop\"\r\n                                onChange={toggleLoop}\r\n                            />\r\n                            <span className=\"checkmark\"></span>\r\n                        </label>\r\n                    </div>\r\n                    <div>\r\n                        {/* @ts-ignore */}\r\n                        <label className=\"checkbox-container\">{langs()[siteLang].action.overlap}\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                checked={state.overlap}\r\n                                disabled={random}\r\n                                name=\"overlap\" id=\"overlap\"\r\n                                onChange={toggleOverlap}\r\n                            />\r\n                            <span className=\"checkmark\"></span>\r\n                        </label>\r\n                    </div>\r\n                    <div>\r\n                        {/* @ts-ignore */}\r\n                        <label className=\"checkbox-container\">{langs()[siteLang].action.bgm}\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                checked={state.playingBgm}\r\n                                name=\"bgm\" id=\"bgm\"\r\n                                onChange={toggleBgm}\r\n                            />\r\n                            <span className=\"checkmark\"></span>\r\n                        </label>\r\n                    </div>\r\n                    <div hidden={!state.playingBgm}>\r\n                        <label className=\"slider-container\">\r\n                            {/* @ts-ignore */}\r\n                            {langs()[siteLang].action.volume}\r\n                            <input\r\n                                type=\"range\" min=\"1\" max=\"100\"\r\n                                className=\"slider\" id=\"bgmVolume\"\r\n                                value={getConfig(true).bgmVolume * 100}\r\n                                onChange={bgmVolumeChange}\r\n                            />\r\n                        </label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const Contents = () => {\r\n        return (\r\n            <div>\r\n                {\r\n                    Object.entries(categories()).map(([ctg, voices]) =>\r\n                        <div className=\"group\">\r\n                            <div className=\"group-header\">\r\n                                <h4>{ctg}</h4>\r\n                                <button\r\n                                    className=\"btn\"\r\n                                    onClick={() => playRandomCtg(ctg)}\r\n                                    disabled={random || (randomCtg !== '' && randomCtg !== ctg)}\r\n                                >\r\n                                    {/* @ts-ignore */}\r\n                                    {randomCtg === ctg ? langs()[siteLang].action.stop : langs()[siteLang].action.nonstop}\r\n                                </button>\r\n                            </div>\r\n                            {buttons(voices)}\r\n                        </div>\r\n                    )\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <MarineBackground\r\n                video={video}\r\n                loop={state.loop}\r\n                disableGallery={state.disableGallery}\r\n                imageIndex={state.imageIndex}\r\n            />\r\n            {Controller()}\r\n            {Contents()}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Homepage;\r\n","D:\\ichimi-tavern\\src\\reportWebVitals.tsx",[],"D:\\ichimi-tavern\\src\\components\\MarineGallery.jsx",[],"D:\\ichimi-tavern\\src\\index.tsx",[],["83","84"],"D:\\ichimi-tavern\\src\\utils\\storage.ts",[],"D:\\ichimi-tavern\\src\\components\\MarineDiscordServer.js",[],"D:\\ichimi-tavern\\src\\utils\\lang.ts",[],"D:\\ichimi-tavern\\src\\screens\\Disclaimer.jsx",[],"D:\\ichimi-tavern\\src\\components\\MarineBackground.tsx",[],"D:\\ichimi-tavern\\src\\components\\MarineBtn.tsx",[],"D:\\ichimi-tavern\\src\\utils\\player.ts",[],"D:\\ichimi-tavern\\src\\components\\MarineLoadingScreen.jsx",[],{"ruleId":"85","severity":1,"message":"86","line":18,"column":8,"nodeType":"87","endLine":18,"endColumn":18,"suggestions":"88"},{"ruleId":"89","replacedBy":"90"},{"ruleId":"91","replacedBy":"92"},{"ruleId":"93","severity":1,"message":"94","line":1,"column":20,"nodeType":"95","messageId":"96","endLine":1,"endColumn":34},{"ruleId":"85","severity":1,"message":"97","line":89,"column":8,"nodeType":"87","endLine":89,"endColumn":30,"suggestions":"98"},{"ruleId":"85","severity":1,"message":"99","line":109,"column":8,"nodeType":"87","endLine":109,"endColumn":20,"suggestions":"100"},{"ruleId":"85","severity":1,"message":"101","line":119,"column":8,"nodeType":"87","endLine":119,"endColumn":23,"suggestions":"102"},{"ruleId":"85","severity":1,"message":"103","line":128,"column":8,"nodeType":"87","endLine":128,"endColumn":26,"suggestions":"104"},{"ruleId":"85","severity":1,"message":"86","line":164,"column":8,"nodeType":"87","endLine":164,"endColumn":16,"suggestions":"105"},{"ruleId":"85","severity":1,"message":"106","line":168,"column":8,"nodeType":"87","endLine":168,"endColumn":16,"suggestions":"107"},{"ruleId":"85","severity":1,"message":"108","line":174,"column":10,"nodeType":"87","endLine":174,"endColumn":21,"suggestions":"109"},{"ruleId":"85","severity":1,"message":"86","line":178,"column":8,"nodeType":"87","endLine":178,"endColumn":19,"suggestions":"110"},{"ruleId":"85","severity":1,"message":"111","line":182,"column":8,"nodeType":"87","endLine":182,"endColumn":19,"suggestions":"112"},{"ruleId":"89","replacedBy":"90"},{"ruleId":"91","replacedBy":"92"},"react-hooks/exhaustive-deps","React Hook useCallback has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["113"],"no-native-reassign",["114"],"no-negated-in-lhs",["115"],"@typescript-eslint/no-unused-vars","'MarineBtnState' is defined but never used.","Identifier","unusedVar","React Hook useCallback has an unnecessary dependency: 'state.disableGallery'. Either exclude it or remove the dependency array.",["116"],"React Hook useCallback has an unnecessary dependency: 'state.loop'. Either exclude it or remove the dependency array.",["117"],"React Hook useCallback has an unnecessary dependency: 'state.overlap'. Either exclude it or remove the dependency array.",["118"],"React Hook useCallback has an unnecessary dependency: 'state.playingBgm'. Either exclude it or remove the dependency array.",["119"],["120"],"React Hook useEffect has a missing dependency: 'chooseRandom'. Either include it or remove the dependency array.",["121"],"React Hook useCallback has an unnecessary dependency: 'randomCtg'. Either exclude it or remove the dependency array.",["122"],["123"],"React Hook useEffect has a missing dependency: 'chooseRandomCtg'. Either include it or remove the dependency array.",["124"],{"desc":"125","fix":"126"},"no-global-assign","no-unsafe-negation",{"desc":"127","fix":"128"},{"desc":"127","fix":"129"},{"desc":"127","fix":"130"},{"desc":"127","fix":"131"},{"desc":"132","fix":"133"},{"desc":"134","fix":"135"},{"desc":"127","fix":"136"},{"desc":"137","fix":"138"},{"desc":"139","fix":"140"},"Update the dependencies array to be: [dispatch]",{"range":"141","text":"142"},"Update the dependencies array to be: []",{"range":"143","text":"144"},{"range":"145","text":"144"},{"range":"146","text":"144"},{"range":"147","text":"144"},"Update the dependencies array to be: [dispatch, random]",{"range":"148","text":"149"},"Update the dependencies array to be: [chooseRandom, random]",{"range":"150","text":"151"},{"range":"152","text":"144"},"Update the dependencies array to be: [dispatch, randomCtg]",{"range":"153","text":"154"},"Update the dependencies array to be: [chooseRandomCtg, randomCtg]",{"range":"155","text":"156"},[651,661],"[dispatch]",[3271,3293],"[]",[3770,3782],[4024,4039],[4261,4279],[5430,5438],"[dispatch, random]",[5515,5523],"[chooseRandom, random]",[5764,5775],[5906,5917],"[dispatch, randomCtg]",[6011,6022],"[chooseRandomCtg, randomCtg]"]